<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PresuPro APK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&family=Playfair+Display:wght@700&family=Roboto+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-slate-50 text-slate-900 overflow-x-hidden antialiased">

    <div id="splash" class="fixed inset-0 bg-blue-600 z-[100] flex items-center justify-center transition-opacity duration-500">
        <div class="text-white text-center">
            <h1 class="text-4xl font-black italic tracking-tighter uppercase">Presu<span class="text-blue-200">Pro</span></h1>
            <div class="mt-4 animate-spin h-6 w-6 border-4 border-white border-t-transparent rounded-full mx-auto"></div>
        </div>
    </div>

    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around items-center h-16 z-50 no-print">
        <button onclick="showView('calc')" class="flex flex-col items-center text-blue-600">
            <span class="text-xl">游닇</span>
            <span class="text-[10px] font-bold uppercase">Nueva</span>
        </button>
        <button onclick="openModal('modalInventory')" class="flex flex-col items-center text-slate-400">
            <span class="text-xl">游닍</span>
            <span class="text-[10px] font-bold uppercase">Inventario</span>
        </button>
        <button onclick="openModal('modalHistory')" class="flex flex-col items-center text-slate-400">
            <span class="text-xl">游댌</span>
            <span class="text-[10px] font-bold uppercase">Historial</span>
        </button>
        <button onclick="openModal('modalSettings')" class="flex flex-col items-center text-slate-400">
            <span class="text-xl">丘뙖잺</span>
            <span class="text-[10px] font-bold uppercase">Ajustes</span>
        </button>
    </nav>

    <<main id="view-calc" class="p-4 pb-24 max-w-xl mx-auto min-h-screen">
        <header id="header-design" class="bg-white p-6 rounded-3xl shadow-sm border-l-8 border-blue-600 mb-6 transition-all duration-300">
            <div class="flex items-center gap-4">
                <div class="w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center overflow-hidden border">
                    <img id="logo-img" src="" class="hidden w-full h-full object-contain">
                    <span id="logo-txt" class="text-[10px] font-bold text-slate-400">LOGO</span>
                </div>
                <div>
                    <h2 id="display-company" class="text-xl font-black uppercase leading-none text-blue-600">Mi Empresa</h2>
                    <p id="display-date" class="text-[10px] font-mono text-slate-400 mt-1 uppercase"></p>
                </div>
            </div>
        </header>

        <button onclick="openModal('modalClient')" class="w-full bg-white border-2 border-dashed border-slate-200 p-4 rounded-2xl mb-6 flex justify-between items-center active:scale-95 transition-transform">
            <div class="text-left">
                <p class="text-[10px] font-bold text-slate-400 uppercase">Cliente:</p>
                <p id="display-client-name" class="font-bold text-slate-700 uppercase italic">Tocar para a침adir datos</p>
            </div>
            <span class="text-blue-500 text-xl">游녻</span>
        </button>

        <h3 class="text-[10px] font-black text-slate-400 uppercase mb-3 ml-2">Lista de Materiales</h3>
        <div id="items-container" class="space-y-3">
            </div>

        <button onclick="addItemRow()" class="w-full mt-4 py-3 bg-white border-2 border-blue-600 border-dashed rounded-2xl text-blue-600 font-bold text-xs uppercase hover:bg-blue-50 transition-colors">+ A침adir Producto del Inventario</button>

        <div class="mt-8 bg-white p-5 rounded-3xl border border-slate-100 shadow-sm">
            <h3 class="text-[10px] font-black text-slate-400 uppercase mb-4">C치lculo de Mano de Obra</h3>
            <div class="grid grid-cols-2 gap-3">
                <div>
                    <label class="text-[9px] font-bold text-slate-400 ml-1">METROS CUADRADOS (m2)</label>
                    <input type="number" id="mo-m2" oninput="calcTotal()" placeholder="0" class="w-full p-3 bg-slate-50 rounded-xl font-bold border-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label class="text-[9px] font-bold text-slate-400 ml-1">PRECIO POR m2 ($)</label>
                    <input type="number" id="mo-price" oninput="calcTotal()" placeholder="0.00" class="w-full p-3 bg-slate-50 rounded-xl font-bold border-none focus:ring-2 focus:ring-blue-500">
                </div>
            </div>
        </div>

        <div class="mt-6 bg-slate-900 text-white p-6 rounded-[2rem] shadow-2xl">
            <div class="flex justify-between items-end mb-4">
                <div>
                    <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Total General</p>
                    <h2 id="total-amount" class="text-3xl font-black text-white">$ 0.00</h2>
                </div>
                <div class="text-right">
                    <p class="text-[10px] font-bold text-blue-400 uppercase">Tasa del d칤a</p>
                    <input type="number" id="tasa-cambio" value="60" oninput="calcTotal()" class="bg-transparent text-right font-black text-xl w-20 outline-none border-b border-blue-500/30">
                </div>
            </div>
            <div class="pt-4 border-t border-slate-800 flex justify-between items-center">
                <span class="text-xs font-bold text-slate-400 uppercase italic">Monto en BS:</span>
                <span id="total-converted" class="text-xl font-black text-blue-400">BS 0.00</span>
            </div>
        </div>
    </main>

    <div id="modalClient" class="fixed inset-0 bg-black/60 z-[60] hidden flex items-end sm:items-center justify-center p-4">
        <div class="bg-white w-full max-w-md rounded-t-3xl sm:rounded-3xl p-6 animate-slide-up">
            <h3 class="font-black uppercase text-slate-800 mb-4">Informaci칩n del Cliente</h3>
            <div class="space-y-3">
                <input type="text" id="in-client-id" placeholder="C칠dula / ID" class="w-full p-4 bg-slate-50 rounded-2xl outline-none border focus:border-blue-500 uppercase font-bold text-sm">
                <input type="text" id="in-client-name" placeholder="Nombre Completo" class="w-full p-4 bg-slate-50 rounded-2xl outline-none border focus:border-blue-500 uppercase font-bold text-sm">
                <input type="text" id="in-client-dir" placeholder="Direcci칩n" class="w-full p-4 bg-slate-50 rounded-2xl outline-none border focus:border-blue-500 uppercase font-bold text-sm">
                <button onclick="saveClientData()" class="w-full bg-blue-600 text-white font-black py-4 rounded-2xl uppercase text-sm mt-2">Guardar Cliente</button>
            </div>
        </div>
    </div>

    <div id="modalInventory" class="fixed inset-0 bg-black/60 z-[60] hidden flex items-end sm:items-center justify-center p-4">
        <div class="bg-white w-full max-w-md rounded-t-3xl sm:rounded-3xl p-6 h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-black uppercase">Inventario de Mercanc칤a</h3>
                <button onclick="closeModal('modalInventory')" class="text-2xl">&times;</button>
            </div>
            <div class="space-y-4">
                <div class="flex gap-2">
                    <input type="text" id="inv-name" placeholder="Nombre Producto" class="flex-1 p-3 bg-slate-50 rounded-xl border text-sm uppercase font-bold">
                    <input type="number" id="inv-qty" placeholder="Cant" class="w-20 p-3 bg-slate-50 rounded-xl border text-sm font-bold">
                    <button onclick="addToInventory()" class="bg-slate-900 text-white px-4 rounded-xl font-bold">+</button>
                </div>
                <div id="inventory-list" class="space-y-2">
                    </div>
            </div>
        </div>
    </div>

    <div id="modalSettings" class="fixed inset-0 bg-black/60 z-[60] hidden flex items-end sm:items-center justify-center p-4">
        <div class="bg-white w-full max-w-md rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="font-black uppercase">Configuraci칩n de Marca</h3>
                <button onclick="closeModal('modalSettings')" class="text-2xl">&times;</button>
            </div>
            <div class="space-y-6">
                <input type="text" id="in-comp-name" placeholder="Nombre de tu Empresa" class="w-full p-4 bg-slate-50 rounded-2xl border font-black uppercase text-center">
                <button onclick="document.getElementById('logo-input').click()" class="w-full py-3 border-2 border-dashed rounded-2xl font-bold text-slate-400 text-xs">CAMBIAR LOGO</button>
                <input type="file" id="logo-input" class="hidden" onchange="previewLogo(this)">
                
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="setFont('modern')" class="p-2 border rounded-xl text-[10px] font-bold">MODERNA</button>
                    <button onclick="setFont('serif')" class="p-2 border rounded-xl text-[10px] font-bold">ELEGANTE</button>
                    <button onclick="setFont('mono')" class="p-2 border rounded-xl text-[10px] font-bold">T칄CNICA</button>
                </div>
                
                <div class="flex justify-around">
                    <button onclick="setColor('#2563eb')" class="w-10 h-10 rounded-full bg-blue-600"></button>
                    <button onclick="setColor('#16a34a')" class="w-10 h-10 rounded-full bg-green-600"></button>
                    <button onclick="setColor('#ea580c')" class="w-10 h-10 rounded-full bg-orange-600"></button>
                    <button onclick="setColor('#000000')" class="w-10 h-10 rounded-full bg-black"></button>
                </div>
                
                <button onclick="closeModal('modalSettings')" class="w-full bg-blue-600 text-white font-black py-4 rounded-2xl uppercase">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>